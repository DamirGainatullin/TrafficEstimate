# TrafficEstimate
Позволяет использовать данные с камер для определения пробок на дорогах.

Источники:
  1. Видеопоток камер взят с сайта https://video.cmirit.ru/ (Камеры доступны только с города Череповец)
  2. В качетсве модели для поиска машин на изоображении используется модель YOLOv5

Принцип нахождения средней скорости потока(object_detection):
1. Берется кадр с камеры, с помощью модели определяется области в которых находятся автомобили(координаты двух точек)
2. Вычисляется определитель матрицы, состоящей из координат. Значение всех автомобилей (их определители) записываются в список `cur_cars`
3. Поступает следующий кадр (переодичность взятия нового кадра зависит от переменной `freq`). Значения из списка `cur_cars` записываются в `prev_cars`, в `cur_cars` записываются новые определители, вычесленные по новому кадру
4. Идет соответствие значений из `prev_cars` с `cur_cars` (допускается погрешность `EPS` в связи с перспективой). При совпадении вычисляетя изменение координтаы X автомобиля
5. После вычисляется частное от суммы изменений координат всех автомобилей и их количества. Получается средняя скорость потока выраженная в координатах X, пройденных автомобилями за секунду.

 Данное исслдеование скорости потока не имеет ничего общего с действительной скоростью автомобилей(так как при таком измерении имеет значение расстояние автомобиля отностильно камеры, также данные искажаются углом наклона камеры относительно дороги). Но данный способ позволяет определить движется ли поток медленно или непрерывно движется 
 
 Вердикт о наличии пробки на дорогах ставится на основании наблюдении движения потока и выявлении средних знчений скорости потока и количетсва автомобилей при котором поток машин двигался медленно.
